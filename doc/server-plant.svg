<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1059px" preserveAspectRatio="none" style="width:1808px;height:1059px;" version="1.1" viewBox="0 0 1808 1059" width="1808px" zoomAndPan="magnify"><defs><filter height="300%" id="fahuh2hgy1kjo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="39" x="794.25" y="22.9951">plant</text><line style="stroke: #000000; stroke-width: 1.0;" x1="794.25" x2="833.25" y1="24.9951" y2="24.9951"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="178" x="838.25" y="22.9951">server implementation</text><rect fill="#FFFFFF" filter="url(#fahuh2hgy1kjo)" height="841.7188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="473" y="167.9922"/><rect fill="#FFFFFF" filter="url(#fahuh2hgy1kjo)" height="112.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1086" y="339.7891"/><rect fill="#FFFFFF" filter="url(#fahuh2hgy1kjo)" height="181.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1086" y="672.3828"/><rect fill="#FFFFFF" filter="url(#fahuh2hgy1kjo)" height="105.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1091" y="733.5156"/><rect fill="#FFFFFF" filter="url(#fahuh2hgy1kjo)" height="104.5313" style="stroke: #000000; stroke-width: 2.0;" width="1370" x="417.5" y="182.9922"/><rect fill="#FFFFFF" filter="url(#fahuh2hgy1kjo)" height="288.3281" style="stroke: #000000; stroke-width: 2.0;" width="1370" x="417.5" y="301.5234"/><rect fill="#FFFFFF" filter="url(#fahuh2hgy1kjo)" height="250.1953" style="stroke: #000000; stroke-width: 2.0;" width="1380" x="417.5" y="603.8516"/><rect fill="#FFFFFF" filter="url(#fahuh2hgy1kjo)" height="159.6641" style="stroke: #000000; stroke-width: 2.0;" width="753.5" x="1034" y="687.3828"/><rect fill="#FFFFFF" filter="url(#fahuh2hgy1kjo)" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="1370" x="417.5" y="868.0469"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="54" x2="54" y1="68.5938" y2="1018.7109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="477.5" x2="477.5" y1="68.5938" y2="1018.7109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1091" x2="1091" y1="68.5938" y2="1018.7109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1463.5" x2="1463.5" y1="68.5938" y2="1018.7109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1733.5" x2="1733.5" y1="68.5938" y2="1018.7109"/><rect fill="#FEFECE" filter="url(#fahuh2hgy1kjo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="8" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="15" y="53.292">LDP server</text><rect fill="#FEFECE" filter="url(#fahuh2hgy1kjo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="8" y="1017.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="15" y="1037.7061">LDP server</text><rect fill="#FEFECE" filter="url(#fahuh2hgy1kjo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="427.5" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="434.5" y="53.292">simple apps</text><rect fill="#FEFECE" filter="url(#fahuh2hgy1kjo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="427.5" y="1017.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="434.5" y="1037.7061">simple apps</text><rect fill="#FEFECE" filter="url(#fahuh2hgy1kjo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="1044" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="1051" y="53.292">shape-tree</text><rect fill="#FEFECE" filter="url(#fahuh2hgy1kjo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="1044" y="1017.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="1051" y="1037.7061">shape-tree</text><rect fill="#FEFECE" filter="url(#fahuh2hgy1kjo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="1408.5" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="93" x="1415.5" y="53.292">cachingFetch</text><rect fill="#FEFECE" filter="url(#fahuh2hgy1kjo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="1408.5" y="1017.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="93" x="1415.5" y="1037.7061">cachingFetch</text><rect fill="#FEFECE" filter="url(#fahuh2hgy1kjo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="1690.5" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="1697.5" y="53.292">filesystem</text><rect fill="#FEFECE" filter="url(#fahuh2hgy1kjo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="1690.5" y="1017.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="1697.5" y="1037.7061">filesystem</text><rect fill="#FFFFFF" filter="url(#fahuh2hgy1kjo)" height="841.7188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="473" y="167.9922"/><rect fill="#FFFFFF" filter="url(#fahuh2hgy1kjo)" height="112.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1086" y="339.7891"/><rect fill="#FFFFFF" filter="url(#fahuh2hgy1kjo)" height="181.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1086" y="672.3828"/><rect fill="#FFFFFF" filter="url(#fahuh2hgy1kjo)" height="105.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1091" y="733.5156"/><polygon fill="#A80036" points="1079,95.7266,1089,99.7266,1079,103.7266,1083,99.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="54" x2="1085" y1="99.7266" y2="99.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="61" y="94.6606">loadContainer(%parent URL%)</text><path d="M1096,112.7266 L1096,137.7266 L1436,137.7266 L1436,122.7266 L1426,112.7266 L1096,112.7266 " fill="#FFFFFF" filter="url(#fahuh2hgy1kjo)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1426,112.7266 L1426,122.7266 L1436,122.7266 L1426,112.7266 " fill="#FFFFFF" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#0000BB" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="1102" y="129.7935">parentContainer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="1210" y="129.7935">= new Container(%parent URL%)</text><polygon fill="#A80036" points="461,163.9922,471,167.9922,461,171.9922,465,167.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="54" x2="467" y1="167.9922" y2="167.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="287" x="61" y="162.9263">plantShapeTreeInstance(%ShapeTree root%,</text><text fill="#0000BB" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="352" y="162.9263">parentContainer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="456" y="162.9263">)</text><path d="M417.5,182.9922 L641.5,182.9922 L641.5,189.9922 L631.5,199.9922 L417.5,199.9922 L417.5,182.9922 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="104.5313" style="stroke: #000000; stroke-width: 2.0;" width="1370" x="417.5" y="182.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="179" x="432.5" y="196.0591">fetch remote ShapeTree</text><polygon fill="#A80036" points="1079,217.2578,1089,221.2578,1079,225.2578,1083,221.2578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="483" x2="1085" y1="221.2578" y2="221.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="447" x="490" y="216.1919">shapeTreeRoot = ShapeTrees.RemoteShapeTree(%ShapeTree root%)</text><polygon fill="#A80036" points="1452,246.3906,1462,250.3906,1452,254.3906,1456,250.3906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1091" x2="1458" y1="250.3906" y2="250.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="1098" y="245.3247">shapeTreeRoot:fetch()</text><polygon fill="#A80036" points="1722,275.5234,1732,279.5234,1722,283.5234,1726,279.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1464" x2="1728" y1="279.5234" y2="279.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="246" x="1471" y="274.4575">write(&lt;hash(%ShapeTree root%)&gt;, ...)</text><path d="M417.5,301.5234 L618.5,301.5234 L618.5,308.5234 L608.5,318.5234 L417.5,318.5234 L417.5,301.5234 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="288.3281" style="stroke: #000000; stroke-width: 2.0;" width="1370" x="417.5" y="301.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="156" x="432.5" y="314.5903">invent root Container</text><polygon fill="#A80036" points="1074,335.7891,1084,339.7891,1074,343.7891,1078,339.7891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="483" x2="1080" y1="339.7891" y2="339.7891"/><text fill="#0000BB" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="490" y="334.7231">parentContainer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="594" y="334.7231">.nestContainer("%slug%")</text><polygon fill="#A80036" points="1722,364.9219,1732,368.9219,1722,372.9219,1726,368.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1096" x2="1728" y1="368.9219" y2="368.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="274" x="1103" y="363.856">inventContainer(%parent URL%, "%slug%")</text><path d="M1101,381.9219 L1101,421.9219 L1453,421.9219 L1453,391.9219 L1443,381.9219 L1101,381.9219 " fill="#FFFFFF" filter="url(#fahuh2hgy1kjo)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1443,381.9219 L1443,391.9219 L1453,391.9219 L1443,381.9219 " fill="#FFFFFF" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#00BB00" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="1107" y="398.9888">instanceContainer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="1227" y="398.9888">= new Container(%parent URL%)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="255" x="1107" y="414.1216">\ Container(&lt;%parent URL%/%slug%/&gt;)</text><polygon fill="#A80036" points="1722,448.3203,1732,452.3203,1722,456.3203,1726,452.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1091" x2="1728" y1="452.3203" y2="452.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="1098" y="447.2544">writeContainer(</text><text fill="#00BB00" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="1195" y="447.2544">instanceContainer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="1311" y="447.2544">)</text><polygon fill="#A80036" points="1079,477.4531,1089,481.4531,1079,485.4531,1083,481.4531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="483" x2="1085" y1="481.4531" y2="481.4531"/><text fill="#00BB00" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="490" y="476.3872">instanceContainer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="11" x="610" y="476.3872">=</text><text fill="#00BB00" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="625" y="476.3872">instanceContainer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="299" x="741" y="476.3872">.asManagedContainer(&lt;/gh/ghShapeTree&gt;, '.')</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1091" x2="1133" y1="510.5859" y2="510.5859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1133" x2="1133" y1="510.5859" y2="523.5859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1092" x2="1133" y1="523.5859" y2="523.5859"/><polygon fill="#A80036" points="1102,519.5859,1092,523.5859,1102,527.5859,1098,523.5859" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="335" x="1098" y="505.52">ManagedContainer(&lt;%parent URL%/%slug%/&gt;):new</text><polygon fill="#A80036" points="1079,548.7188,1089,552.7188,1079,556.7188,1083,552.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="483" x2="1085" y1="552.7188" y2="552.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="215" x="490" y="547.6528">plantShapeTreeInstance setTitle()</text><polygon fill="#A80036" points="1722,577.8516,1732,581.8516,1722,585.8516,1726,581.8516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1091" x2="1728" y1="581.8516" y2="581.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="1098" y="576.7856">writeContainer(</text><text fill="#00BB00" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="1195" y="576.7856">instanceContainer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="1311" y="576.7856">)</text><path d="M417.5,603.8516 L681.5,603.8516 L681.5,610.8516 L671.5,620.8516 L417.5,620.8516 L417.5,603.8516 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="250.1953" style="stroke: #000000; stroke-width: 2.0;" width="1380" x="417.5" y="603.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="219" x="432.5" y="616.9185">instantiate nested Containers</text><polygon fill="#A80036" points="1074,668.3828,1084,672.3828,1074,676.3828,1078,672.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="483" x2="1080" y1="672.3828" y2="672.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="314" x="490" y="637.0513">shapeTree(%ShapeTree root%).instantiateStatic(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="299" x="506" y="652.1841">%focus node%, &lt;%parent URL%/%slug%/&gt;, '.',</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="506" y="667.3169"/><text fill="#0000BB" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="506" y="667.3169">parentContainer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="238" x="610" y="667.3169">, Container(%parent URL%/%slug%/))</text><path d="M1034,687.3828 L1261,687.3828 L1261,694.3828 L1251,704.3828 L1034,704.3828 L1034,687.3828 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="159.6641" style="stroke: #000000; stroke-width: 2.0;" width="753.5" x="1034" y="687.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="182" x="1049" y="700.4497">for each %staticSubDir%</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1096" x2="1143" y1="720.6484" y2="720.6484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1143" x2="1143" y1="720.6484" y2="733.6484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1102" x2="1143" y1="733.6484" y2="733.6484"/><polygon fill="#A80036" points="1112,729.6484,1102,733.6484,1112,737.6484,1108,733.6484" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="349" x="1108" y="715.5825">shapeTreeRoot:instantiateStatic(... %staticSubDir% ...)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1101" x2="1143" y1="767.7813" y2="767.7813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1143" x2="1143" y1="767.7813" y2="780.7813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1102" x2="1143" y1="780.7813" y2="780.7813"/><polygon fill="#A80036" points="1112,776.7813,1102,780.7813,1112,784.7813,1108,780.7813" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="293" x="1108" y="762.7153">⮡ RemoteResource(&lt;/gh/ghShapeTree&gt;) new</text><polygon fill="#A80036" points="1722,805.9141,1732,809.9141,1722,813.9141,1726,809.9141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1101" x2="1728" y1="809.9141" y2="809.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="397" x="1108" y="804.8481">ensureContainer(&lt;%parent URL%/%slug%/%staticSubDir%/&gt;)</text><polygon fill="#A80036" points="1722,835.0469,1732,839.0469,1722,843.0469,1726,839.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1096" x2="1728" y1="839.0469" y2="839.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="378" x="1103" y="833.981">writeContainer(&lt;%parent URL%/%slug%/%staticSubDir%/&gt;</text><path d="M417.5,868.0469 L652.5,868.0469 L652.5,875.0469 L642.5,885.0469 L417.5,885.0469 L417.5,868.0469 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="1370" x="417.5" y="868.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="190" x="432.5" y="881.1138">index ShapeTree instance</text><polygon fill="#A80036" points="1079,902.3125,1089,906.3125,1079,910.3125,1083,906.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="483" x2="1085" y1="906.3125" y2="906.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="490" y="901.2466">indexInstalledShapeTree(</text><text fill="#0000BB" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="651" y="901.2466">parentContainer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="319" x="755" y="901.2466">, &lt;%parent URL%/%slug%/&gt;, %ShapeTree root%)</text><polygon fill="#A80036" points="1722,931.4453,1732,935.4453,1722,939.4453,1726,935.4453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1091" x2="1728" y1="935.4453" y2="935.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="1098" y="930.3794">write() and writeContainer()...</text><polygon fill="#A80036" points="1079,967.5781,1089,971.5781,1079,975.5781,1083,971.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="54" x2="1085" y1="971.5781" y2="971.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="372" x="61" y="966.5122">postedContainer.addMember(&lt;%parent URL%/%slug%/&gt;)</text><polygon fill="#A80036" points="1722,996.7109,1732,1000.7109,1722,1004.7109,1726,1000.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1091" x2="1728" y1="1000.7109" y2="1000.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="321" x="1098" y="995.645">postedContainer(%parent URL%/).writeContainer()</text><!--
@startuml
participant caller as "LDP server"
participant ecosystem as "simple apps"
participant ST as "shape-tree"
participant cache as "cachingFetch"
participant fs as "filesystem"
title <u>plant</u> server implementation
caller -> ST: loadContainer(%parent URL%)
note right of ST #fff: <color #00b>parentContainer</color> = new Container(%parent URL%)
caller -> ecosystem: plantShapeTreeInstance(%ShapeTree root%, <color #00b>parentContainer</color>)
activate ecosystem

group fetch remote ShapeTree
ecosystem -> ST #eef: shapeTreeRoot = ShapeTrees.RemoteShapeTree(%ShapeTree root%)
ST -> cache: shapeTreeRoot:fetch()
cache -> fs: write(<hash(%ShapeTree root%)>, ...)
end

group invent root Container
ecosystem -> ST: <color #00b>parentContainer</color>.nestContainer("%slug%")
activate ST
ST -> fs: inventContainer(%parent URL%, "%slug%")
note right of ST #fff: <color #0b0>instanceContainer</color> = new Container(%parent URL%)\n\\ Container(<%parent URL%/%slug%/>)
ST -> fs:writeContainer(<color #0b0>instanceContainer</color>)
deactivate ST
ecosystem -> ST #eef: <color #0b0>instanceContainer</color> = <color #0b0>instanceContainer</color>.asManagedContainer(</gh/ghShapeTree>, '.')
ST -> ST:ManagedContainer(<%parent URL%/%slug%/>):new 
ecosystem -> ST: plantShapeTreeInstance setTitle()
ST -> fs: writeContainer(<color #0b0>instanceContainer</color>)
end

group instantiate nested Containers
ecosystem -> ST: shapeTree(%ShapeTree root%).instantiateStatic(\n    %focus node%, <%parent URL%/%slug%/>, '.', \n    <color #00b>parentContainer</color>, Container(%parent URL%/%slug%/))
group for each %staticSubDir%
activate ST
ST -> ST: shapeTreeRoot:instantiateStatic(... %staticSubDir% ...)
activate ST
ST -> ST: ⮡ RemoteResource(</gh/ghShapeTree>) new
ST - -> fs: ensureContainer(<%parent URL%/%slug%/%staticSubDir%/>) 
ST - -> fs: writeContainer(<%parent URL%/%slug%/%staticSubDir%/>
deactivate ST
end
deactivate ST
end

group index ShapeTree instance
ecosystem -> ST: indexInstalledShapeTree(<color #00b>parentContainer</color>, <%parent URL%/%slug%/>, %ShapeTree root%)
ST -> fs: write() and writeContainer()...
end

caller -> ST: postedContainer.addMember(<%parent URL%/%slug%/>)
ST -> fs: postedContainer(%parent URL%/).writeContainer()

@enduml

PlantUML version 1.2018.13(Mon Nov 26 18:11:51 CET 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-post-Ubuntu-3ubuntu1
Operating System: Linux
OS Version: 5.4.0-33-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>